[gd_scene load_steps=21 format=3 uid="uid://crjmkc5leh3co"]

[ext_resource type="PackedScene" uid="uid://map" path="res://assets/map/Map.tscn" id="1_up16o"]
[ext_resource type="PackedScene" uid="uid://c3xg3pkjyfbxa" path="res://scenes/m_char.tscn" id="2_ujipf"]
[ext_resource type="PackedScene" uid="uid://cu2pe5fp8kd72" path="res://scenes/goblin_torch.tscn" id="3_6rmxd"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ep4ws"]
size = Vector2(190.5, 4)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sm2jk"]
size = Vector2(190.5, 4)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m13x4"]
size = Vector2(383, 63)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_avuh8"]
size = Vector2(318, 63)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3diif"]
size = Vector2(1, 190)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5sd63"]
size = Vector2(318, 63)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_p86k4"]
size = Vector2(0, 256)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8n5um"]
size = Vector2(0, 383)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wq3a7"]
size = Vector2(128, 62)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cc04t"]
size = Vector2(0, 380)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ho1yk"]
size = Vector2(447, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_s4jvw"]
size = Vector2(0, 192)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c5s38"]
size = Vector2(441, 0)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4yr2c"]
size = Vector2(256, 320)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_x4dm3"]
size = Vector2(498, 131)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3p8ss"]
size = Vector2(128, 130)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_u6tus"]
vertices = PackedVector2Array(3915.14, -547.961, 4084.1, -526.031, 3764.9, -527.031, 3375, -550.039, 3275.08, -566.148, 3275.07, -566.672, 3341, -557.523, 4086.1, -713.922, 3912.87, -714.922, 3247.33, -625.656, 3248.75, -586, 2890, -586, 3191, -629.688, 3126.3, -695.289, 2890, -776.93, 3064.16, -756.828, 3895, -249.156, 3959.03, -248.148, 3959.95, -9.32031, 3895.75, -11.3281, 3788.04, -54.9375, 3062.84, 70.9531, 3467, 73.0469, 3833.07, 118.719, 3832.07, 243.289, 3766.85, 245.313, 2445.03, 135.922, 2549.95, 68.9688, 2448.02, -403.609, 2448.97, -751.039, 2865.84, -752.953, 2862.84, -559.844, 2577.07, -398.617, 3573.65, 378, 3575.65, 436.148, 3398.69, 438.852, 3396.69, 374.992, 2890.84, -12.0625, 2574.07, -10.0625, 3636.93, -873.313, 3637.93, -716.07, 3375, -718.078, 3341, -885.961, 2421.16, 506, 2420.15, 569.719, 2179.83, 563.25, 2178.83, 505.32, 3467, -56.9297, 3898.77, 113.742, 2164.97, -203, 2120.05, -317.617, 2119.05, -504, 2184, -504, 2422.98, -310, 2443.97, -203, 2551.95, -310, 3787.06, -310, 3895, -310, 3702, 312.297, 3702, 378, 2113.36, 443, 2166.03, 138.078, 2550, 444.078, 2550, 506, 2117.37, 503.297, 1989, 443, 1989, 376.891, 2184, -632, 2242.84, -632, 3767, -319.898, 3767, -139.961, 3442.08, -138.969, 2808.15, -949.922, 2932.15, -950.906, 2933.15, -887.148, 2424.02, -780.07, 3788, -868.703, 4212, -883.031, 4212, -714.922, 3788, -715.922, 2373.93, -895.422, 2374.92, -1017, 2484.44, -1017, 2487.45, -950.953, 3441.07, -13.9375, 3064.16, -11.9531, 3124.32, -757.828, 3767.84, 310.289, 2615.3, 376.008, 2698.69, -952.047, 2700.69, -1015.92, 2807.14, -1015.07, 1988.93, 196.18, 1989.92, 70.8438, 2051.87, 69.8438, 3191, -693.289, 3063.14, -821.453, 3000.3, -824.453, 2619.37, 436.141, 2998.31, -886.141, 1925.29, 370.906, 1930.7, 201.188, 2244.85, -758.57, 2311.7, -762.563, 2056.87, -313.602, 2315.72, -886.391, 2892.16, 70.0313)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 3), PackedInt32Array(7, 1, 0, 8), PackedInt32Array(9, 10, 11, 12), PackedInt32Array(13, 12, 11, 14, 15), PackedInt32Array(16, 17, 18, 19, 20), PackedInt32Array(21, 22, 23, 24, 25, 26, 27), PackedInt32Array(28, 29, 30, 31, 32), PackedInt32Array(33, 34, 35, 36), PackedInt32Array(37, 38, 32, 31, 4), PackedInt32Array(39, 40, 41, 42), PackedInt32Array(43, 44, 45, 46), PackedInt32Array(23, 22, 47, 20, 19, 48), PackedInt32Array(49, 50, 51, 52, 53, 54), PackedInt32Array(53, 55, 27, 54), PackedInt32Array(20, 56, 57, 16), PackedInt32Array(26, 58, 59, 33, 36), PackedInt32Array(60, 61, 26, 62, 63, 43, 46, 64), PackedInt32Array(60, 65, 66, 61), PackedInt32Array(52, 67, 68, 53), PackedInt32Array(69, 70, 71, 3, 2), PackedInt32Array(72, 73, 74, 14, 75), PackedInt32Array(76, 77, 78, 7, 8, 79), PackedInt32Array(80, 81, 82, 83, 75), PackedInt32Array(4, 3, 71, 84, 85, 37), PackedInt32Array(15, 86, 13), PackedInt32Array(25, 87, 58, 26), PackedInt32Array(26, 36, 88), PackedInt32Array(89, 90, 91, 72), PackedInt32Array(92, 93, 94, 61, 66), PackedInt32Array(13, 95, 12), PackedInt32Array(96, 15, 14, 97), PackedInt32Array(88, 98, 62, 26), PackedInt32Array(74, 99, 97, 14), PackedInt32Array(66, 100, 101, 92), PackedInt32Array(68, 102, 103, 53), PackedInt32Array(94, 104, 50, 49, 61), PackedInt32Array(89, 72, 75, 83), PackedInt32Array(103, 105, 80, 75, 53), PackedInt32Array(26, 54, 27), PackedInt32Array(21, 27, 106), PackedInt32Array(85, 21, 106, 37), PackedInt32Array(41, 3, 6, 42), PackedInt32Array(39, 42, 77, 76)])
outlines = Array[PackedVector2Array]([PackedVector2Array(3775, -517, 4094, -516, 4096, -704, 4222, -705, 4222, -893, 3331, -896, 3331, -569, 3259, -579, 3257, -635, 3201, -639, 3201, -703, 3136, -705, 3134, -768, 3074, -767, 3073, -831, 3010, -834, 3008, -896, 2943, -897, 2942, -961, 2818, -960, 2817, -1025, 2691, -1026, 2689, -962, 2497, -961, 2494, -1027, 2365, -1027, 2364, -904, 2306, -895, 2302, -772, 2235, -768, 2233, -642, 2174, -642, 2174, -514, 2109, -514, 2110, -327, 2047, -323, 2042, 60, 1980, 61, 1979, 187, 1921, 192, 1915, 380, 1979, 386, 1979, 453, 2104, 453, 2108, 513, 2169, 515, 2170, 573, 2430, 580, 2431, 516, 2560, 516, 2560, 453, 2630, 445, 2626, 386, 3387, 385, 3389, 449, 3586, 446, 3584, 388, 3712, 388, 3712, 322, 3778, 320, 3777, 255, 3842, 253, 3843, 128, 3909, 123, 3906, -1, 3970, 1, 3969, -258, 3905, -259, 3905, -320, 3777, -320)])

[node name="arena" type="Node"]

[node name="map" type="Node" parent="."]

[node name="arena" parent="map" instance=ExtResource("1_up16o")]

[node name="layer 1" type="Area2D" parent="map"]
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="map/layer 1"]
position = Vector2(2976, 62)
shape = SubResource("RectangleShape2D_ep4ws")

[node name="layer 2" type="Area2D" parent="map"]
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="map/layer 2"]
position = Vector2(2975.75, 1)
shape = SubResource("RectangleShape2D_sm2jk")

[node name="main" type="StaticBody2D" parent="map"]
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="map/main"]
position = Vector2(1984.5, 1503.5)
shape = SubResource("RectangleShape2D_m13x4")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="map/main"]
position = Vector2(1439, 1503.5)
shape = SubResource("RectangleShape2D_avuh8")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="map/main"]
position = Vector2(2177.5, 1440)
shape = SubResource("RectangleShape2D_3diif")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="map/main"]
position = Vector2(2338, 1375.5)
shape = SubResource("RectangleShape2D_5sd63")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="map/main"]
position = Vector2(3776, -256)
shape = SubResource("RectangleShape2D_p86k4")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="map/main"]
position = Vector2(2560, -192.5)
shape = SubResource("RectangleShape2D_8n5um")

[node name="CollisionShape2D8" type="CollisionShape2D" parent="map/main"]
position = Vector2(1216, 1120)
shape = SubResource("RectangleShape2D_wq3a7")

[node name="CollisionShape2D9" type="CollisionShape2D" parent="map/main"]
position = Vector2(2432, -578)
shape = SubResource("RectangleShape2D_cc04t")

[node name="CollisionShape2D10" type="CollisionShape2D" parent="map/main"]
position = Vector2(2655.5, -768)
shape = SubResource("RectangleShape2D_ho1yk")

[node name="CollisionShape2D11" type="CollisionShape2D" parent="map/main"]
position = Vector2(2880, -672)
shape = SubResource("RectangleShape2D_s4jvw")

[node name="CollisionShape2D12" type="CollisionShape2D" parent="map/main"]
position = Vector2(3100.5, -576)
shape = SubResource("RectangleShape2D_c5s38")

[node name="CollisionShape2D13" type="CollisionShape2D" parent="map/main"]
position = Vector2(1024, 1440)
shape = SubResource("RectangleShape2D_4yr2c")

[node name="CollisionShape2D17" type="CollisionShape2D" parent="map/main"]
position = Vector2(3654, -639.5)
shape = SubResource("RectangleShape2D_x4dm3")

[node name="CollisionShape2D18" type="CollisionShape2D" parent="map/main"]
position = Vector2(3711, -770)
shape = SubResource("RectangleShape2D_3p8ss")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="map"]
visible = false
position = Vector2(-1, 0)
navigation_polygon = SubResource("NavigationPolygon_u6tus")
enabled = false

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="map/NavigationRegion2D"]
position = Vector2(3201, 0)
vertices = PackedVector2Array(184, -708, 447, -706, 446, -863, 577, -859, 577, -706, 702, -705, 704, -558, 184, -560)
affect_navigation_mesh = true

[node name="NavigationObstacle2D2" type="NavigationObstacle2D" parent="map/NavigationRegion2D"]
position = Vector2(1, 0)
vertices = PackedVector2Array(3776, -324, 3776, -130, 3451, -129, 3450, -4, 3073, -2, 3072, 61, 3456, 63, 3456, -67, 3777, -65)
affect_navigation_mesh = true

[node name="NavigationObstacle2D3" type="NavigationObstacle2D" parent="map/NavigationRegion2D"]
position = Vector2(1, 0)
vertices = PackedVector2Array(2881, 60, 2880, -2, 2563, 0, 2566, -389, 2437, -394, 2438, -761, 2875, -763, 2872, -570, 3264, -576, 2879, -576, 2879, -767, 2433, -770, 2432, -320, 2561, -320, 2559, 59)
affect_navigation_mesh = true

[node name="NavigationObstacle2D4" type="NavigationObstacle2D" parent="map/NavigationRegion2D"]
position = Vector2(1, 0)
vertices = PackedVector2Array(2434, 126, 2433, -193, 2174, -193, 2175, 128)
affect_navigation_mesh = true

[node name="goblin_torch" parent="." instance=ExtResource("3_6rmxd")]
position = Vector2(1739, 1079)

[node name="m_char" parent="." instance=ExtResource("2_ujipf")]
position = Vector2(1682, 1379)

[connection signal="body_entered" from="map/layer 1" to="m_char" method="_on_layer_2_body_entered"]
[connection signal="body_exited" from="map/layer 1" to="goblin_torch" method="_on_layer_1_body_exited"]
[connection signal="body_exited" from="map/layer 1" to="m_char" method="_on_layer_1_body_exited"]
[connection signal="body_exited" from="map/layer 2" to="goblin_torch" method="_on_layer_2_body_exited"]
[connection signal="body_exited" from="map/layer 2" to="m_char" method="_on_layer_2_body_exited"]
